language:
  - python

# Install ansible
#addons:
#  apt:
#    packages:
#    - python-pip

install:
  # Install ansible
  - pip install ansible
  # install galaxy role
  - ansible-galaxy install PaloAltoNetworks.paloaltonetworks
  # instasll pep8
  - pip install pycodestyle

script:
  - cd library; find . -name \*.py -exec pycodestyle --max-line-length=120 --ignore=E402 {} +
  - error=0; for i in `ls *.py | grep -v '__init__.py'`; do if ansible-doc -M . "$i" 1>/dev/null; then error=1; fi; done; if [ "X$error" = "X1" ] ; then false; else true; fi;
